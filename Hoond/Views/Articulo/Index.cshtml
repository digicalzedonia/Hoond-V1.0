@model PagedList.IPagedList<Hoond.Models.Articulo>
@using Hoond.app_GlobalResources;
@using PagedList.Mvc;
@{
    ViewBag.Title = "Index";
}
<h2>@Content.titulo_ListArticulo</h2>
@if (!String.IsNullOrEmpty(ViewBag.msgError))
{
    @Html.Action("Mensaje", "Comun", new { msgError = ViewBag.msgError })
}
<p class="link-txt create">
    @Html.ActionLink(Content.link_Crear, "Create")
    @Html.ActionLink(Content.link_CargaM, "CargaMasiva")
</p>
@using (Html.BeginForm("Index", "Articulo", FormMethod.Get))
{
    @Html.Action("Buscar", "Comun", new { Campos = "Proveedor.nombreProveedor,sku,barcode,TipoArticulo.descTipoArticulo,Marca.nombreMarca,Coleccion.descColeccion,claveArticulo,descArticulo,nombreArticulo", 
                                     Descripcion = "Proveedor,Sku,Barcode,Tipo Articulo,Marca,Coleccion,Clave,Descripción,Nombre" })
}
@using (Html.BeginForm("DeleteM", "Articulo", FormMethod.Post))
{
    <input type="submit" value="@Content.submit_EliminarM" id="cmdEliminar" class="delete-table" />
    <table>
        <thead>
            <tr>
                <th>
                    <input type="checkbox" id="idH" />
                </th>
                @if (ViewBag.isAdmin)
                {
                    <th data-hide="phone">
                        <div id="@if(ViewBag.sortField == "idArticulo") { @ViewBag.Id }">
                            @Html.ActionLink(@Html.DisplayNameFor(model => model.First().idArticulo).ToString(), "Index", new { sortField = "idArticulo", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                        </div>
                    </th>
                }
                @if (ViewBag.isAdmin)
                {
                    <th data-hide="phone">
                        <div id="@if(ViewBag.sortField == "Empresa.nombreEmpresa") { @ViewBag.Id }">
                            @Html.ActionLink(@Html.DisplayNameFor(model => model.First().Empresa.nombreEmpresa).ToString(), "Index", new { sortField = "Empresa.nombreEmpresa", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                        </div>
                    </th>
                }
                <th data-hide="phone">
                    <div id="@if(ViewBag.sortField == "Proveedor.nombreProveedor") { @ViewBag.Id }">
                        @Html.ActionLink(@Html.DisplayNameFor(model => model.First().Proveedor.nombreProveedor).ToString(), "Index", new { sortField = "Proveedor.nombreProveedor", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                    </div>
                </th>
                <th data-hide="phone">
                    <div id="@if(ViewBag.sortField == "sku") { @ViewBag.Id }">
                        @Html.ActionLink(@Html.DisplayNameFor(model => model.First().sku).ToString(), "Index", new { sortField = "sku", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                    </div>
                </th>
                <th data-hide="phone">
                    <div id="@if(ViewBag.sortField == "barcode") { @ViewBag.Id }">
                        @Html.ActionLink(@Html.DisplayNameFor(model => model.First().barcode).ToString(), "Index", new { sortField = "barcode", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                    </div>
                </th>
                <th data-hide="phone">
                    <div id="@if(ViewBag.sortField == "TipoArticulo.descTipoArticulo") { @ViewBag.Id }">
                        @Html.ActionLink(@Html.DisplayNameFor(model => model.First().TipoArticulo.descTipoArticulo).ToString(), "Index", new { sortField = "TipoArticulo.descTipoArticulo", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                    </div>
                </th>
                <th data-hide="phone">
                    <div id="@if(ViewBag.sortField == "Marca.nombreMarca") { @ViewBag.Id }">
                        @Html.ActionLink(@Html.DisplayNameFor(model => model.First().Marca.nombreMarca).ToString(), "Index", new { sortField = "Marca.nombreMarca", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                    </div>
                </th>
                <th data-hide="phone">
                    <div id="@if(ViewBag.sortField == "Coleccion.descColeccion") { @ViewBag.Id }">
                        @Html.ActionLink(@Html.DisplayNameFor(model => model.First().Coleccion.descColeccion).ToString(), "Index", new { sortField = "Coleccion.descColeccion", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                    </div>
                </th>
                <th data-hide="phone">
                    <div id="@if(ViewBag.sortField == "temporada") { @ViewBag.Id }">
                        @Html.ActionLink(@Html.DisplayNameFor(model => model.First().temporada).ToString(), "Index", new { sortField = "temporada", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                    </div>
                </th>
                <th data-hide="phone">
                    <div id="@if(ViewBag.sortField == "Categoria.descCategoria") { @ViewBag.Id }">
                        @Html.ActionLink(@Html.DisplayNameFor(model => model.First().Categoria.descCategoria).ToString(), "Index", new { sortField = "Categoria.descCategoria", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                    </div>
                </th>
                <th data-hide="phone">
                    <div id="@if(ViewBag.sortField == "SubCategoria.descSubCategoria") { @ViewBag.Id }">
                        @Html.ActionLink(@Html.DisplayNameFor(model => model.First().SubCategoria.descSubCategoria).ToString(), "Index", new { sortField = "SubCategoria.descSubCategoria", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                    </div>
                </th>
                <th data-toggle="true">
                    <div id="@if(ViewBag.sortField == "claveArticulo") { @ViewBag.Id }">
                        @Html.ActionLink(@Html.DisplayNameFor(model => model.First().claveArticulo).ToString(), "Index", new { sortField = "claveArticulo", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                    </div>
                </th>
                <th data-hide="phone">
                    <div id="@if(ViewBag.sortField == "descArticulo") { @ViewBag.Id }">
                        @Html.ActionLink(@Html.DisplayNameFor(model => model.First().descArticulo).ToString(), "Index", new { sortField = "descArticulo", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                    </div>
                </th>
                <th data-hide="phone">
                    <div id="@if(ViewBag.sortField == "nombreArticulo") { @ViewBag.Id }">
                        @Html.ActionLink(@Html.DisplayNameFor(model => model.First().nombreArticulo).ToString(), "Index", new { sortField = "nombreArticulo", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                    </div>
                </th>
                <th data-hide="phone">
                    <div id="@if(ViewBag.sortField == "Color.descColor") { @ViewBag.Id }">
                        @Html.ActionLink(@Html.DisplayNameFor(model => model.First().Color.descColor).ToString(), "Index", new { sortField = "Color.descColor", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                    </div>
                </th>
                <th data-hide="phone">
                    <div id="@if(ViewBag.sortField == "Talla.descTalla") { @ViewBag.Id }">
                        @Html.ActionLink(@Html.DisplayNameFor(model => model.First().Talla.descTalla).ToString(), "Index", new { sortField = "Talla.descTalla", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                    </div>
                </th>
                <th data-hide="phone">
                    <div id="@if(ViewBag.sortField == "Presentacion.descPresentacion") { @ViewBag.Id }">
                        @Html.ActionLink(@Html.DisplayNameFor(model => model.First().Presentacion.descPresentacion).ToString(), "Index", new { sortField = "Presentacion.descPresentacion", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                    </div>
                </th>
                <th data-hide="phone">
                    <div id="@if(ViewBag.sortField == "cantidadPresentacion") { @ViewBag.Id }">
                        @Html.ActionLink(@Html.DisplayNameFor(model => model.First().cantidadPresentacion).ToString(), "Index", new { sortField = "cantidadPresentacion", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                    </div>
                </th>
                <th data-hide="phone">
                    <div id="@if(ViewBag.sortField == "epcPrefijo") { @ViewBag.Id }">
                        @Html.ActionLink(@Html.DisplayNameFor(model => model.First().epcPrefijo).ToString(), "Index", new { sortField = "epcPrefijo", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                    </div>
                </th>
                <th data-hide="phone">
                    <div id="@if(ViewBag.sortField == "epcSerie") { @ViewBag.Id }">
                        @Html.ActionLink(@Html.DisplayNameFor(model => model.First().epcSerie).ToString(), "Index", new { sortField = "epcSerie", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                    </div>
                </th>
                @if (ViewBag.isAdmin)
                {
                    <th data-hide="phone">
                        <div id="@if(ViewBag.sortField == "Usuario.nombreUsuario") { @ViewBag.Id }">
                            @Html.ActionLink(@Html.DisplayNameFor(model => model.First().Usuario.nombreUsuario).ToString(), "Index", new { sortField = "Usuario.nombreUsuario", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                        </div>
                    </th>
                }
                @if (ViewBag.isAdmin)
                {
                    <th data-hide="phone">
                        <div id="@if(ViewBag.sortField == "fecha_alta") { @ViewBag.Id }">
                            @Html.ActionLink(@Html.DisplayNameFor(model => model.First().fecha_alta).ToString(), "Index", new { sortField = "fecha_alta", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                        </div>
                    </th>
                }
                @if (ViewBag.isAdmin)
                {
                    <th data-hide="phone">
                        <div id="@if(ViewBag.sortField == "activo") { @ViewBag.Id }">
                            @Html.ActionLink(@Html.DisplayNameFor(model => model.First().activo).ToString(), "Index", new { sortField = "activo", txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField })
                        </div>
                    </th>
                }
                <th data-hide="phone"></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        <input type="checkbox" name="ids" value="@item.idArticulo" />
                    </td>
                    @if (ViewBag.isAdmin)
                    {
                        <td>
                            @Html.DisplayFor(modelItem => item.idArticulo)
                        </td>
                    }
                    @if (ViewBag.isAdmin)
                    {
                        <td>
                            @Html.DisplayFor(modelItem => item.Empresa.nombreEmpresa)
                        </td>
                    }
                    <td>
                        @Html.DisplayFor(modelItem => item.Proveedor.nombreProveedor)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.sku)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.barcode)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.TipoArticulo.descTipoArticulo)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Marca.nombreMarca)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Coleccion.descColeccion)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.temporada)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Categoria.descCategoria)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.SubCategoria.descSubCategoria)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.claveArticulo)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.descArticulo)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.nombreArticulo)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Color.descColor)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Talla.descTalla)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Presentacion.descPresentacion)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.cantidadPresentacion)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.epcPrefijo)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.epcSerie)
                    </td>
                    @if (ViewBag.isAdmin)
                    {
                        <td>
                            @Html.DisplayFor(modelItem => item.Usuario.nombreUsuario)
                        </td>
                    }
                    @if (ViewBag.isAdmin)
                    {
                        <td>
                            @Html.DisplayFor(modelItem => item.fecha_alta)
                        </td>
                    }
                    @if (ViewBag.isAdmin)
                    {
                        <td>
                            @Html.DisplayFor(modelItem => item.activo)
                        </td>
                    }
                    <td>
                        <div class="buttons">
                            <a href="@Url.Action("Edit", new { id=item.idArticulo })"><div class="edit"></div></a>
                            <a href="@Url.Action("Details", new { id=item.idArticulo })"><div class="details"></div></a>
                            <a href="@Url.Action("Delete", new { id=item.idArticulo })"><div class="delete"></div></a>
                        </div>
                    </td>
                </tr>
            }
        </tbody>
    </table>
}
<div class="paging">
    <span>@Content.msg_Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) @Content.msg_Pageof @Model.PageCount</span>
    @Html.PagedListPager(Model, page => Url.Action("Index", new { page, txtBusqueda = ViewBag.CurrentFilter, cmbPaginado = ViewBag.CurrentPage, cmbCampo = ViewBag.CurrentField }))
</div>